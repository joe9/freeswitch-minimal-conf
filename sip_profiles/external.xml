<profile name="external">
  <!-- http://wiki.freeswitch.org/wiki/Sofia_Configuration_Files -->
  <!-- This profile is only for outbound registrations to providers -->
  <gateways>
    <X-PRE-PROCESS cmd="include" data="external/*.xml"/>
  </gateways>

  <aliases>
    <!--
        <alias name="outbound"/>
        <alias name="nat"/>
    -->
  </aliases>

  <domains>
        <domain name="all" alias="false" parse="false"/>
  </domains>

  <settings>
    <param name="debug" value="0"/>
    <!-- If you want FreeSWITCH to shutdown if this profile fails to load, uncomment the next line. -->
    <!-- <param name="shutdown-on-fail" value="true"/> -->

    <param name="context" value="public"/>
    <param name="dialplan" value="XML"/>
    <param name="auth-calls" value="false"/>
    <param name="register" value="false"/>

    <!-- RFC 5626 : Send reg-id and sip.instance -->
    <!--<param name="enable-rfc-5626" value="true"/> -->
    <param name="sip-port" value="$${external_sip_port}"/>

    <param name="rtp-ip" value="$${local_ip_v4}"/>
    <param name="sip-ip" value="$${local_ip_v4}"/>
  </settings>

  <gateways>
    <gateway name="sipnet">
        <param name="proxy" value="$${sipnet_proxy}"/>
        <param name="username" value="$${sipnet_login}"/>
        <param name="password" value="$${sipnet_password}"/>
    </gateway>
  </gateways>
</profile>
