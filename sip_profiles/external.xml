<profile name="external">
  <!-- http://wiki.freeswitch.org/wiki/Sofia_Configuration_Files -->
  <!-- This profile is only for outbound registrations to providers -->
  <aliases>
    <!--
        <alias name="outbound"/>
        <alias name="nat"/>
    -->
  </aliases>

  <domains>
        <domain name="all" alias="false" parse="false"/>
  </domains>

  <settings>
    <param name="debug" value="0"/>
    <!-- If you want FreeSWITCH to shutdown if this profile fails to load, uncomment the next line. -->
    <!-- <param name="shutdown-on-fail" value="true"/> -->

    <param name="context" value="public"/>
    <param name="dialplan" value="XML"/>
    <param name="auth-calls" value="false"/>

    <!-- RFC 5626 : Send reg-id and sip.instance -->
    <!--<param name="enable-rfc-5626" value="true"/> -->
    <param name="sip-port" value="$${external_sip_port}"/>

    <param name="rtp-ip" value="$${local_ip_v4}"/>
    <param name="sip-ip" value="$${local_ip_v4}"/>
  </settings>

  <gateways>
    <gateway name="circlenet">
        <param name="proxy"     value="$${circlenet_proxy}"/>
        <param name="username"  value="$${circlenet_username}"/>
        <param name="password"  value="$${circlenet_password}"/>

        <param name="register"     value="true"/>
        <param name="realm"        value="circlenet.us"/>
        <param name="from-domain"  value="circlenet.us"/>
        <param name="sip_cid_type" value="rpd"/>
        <param name="caller-id-in-from" value="false"/>

        <param name="from-user"   value="$${circlenet_did}"/>
        <action application="set" data="effective_caller_id_number=$${circlenet_did}"/>
    </gateway>
  </gateways>
</profile>
